import{d as h}from"./default-59bf48ce.js";import{_ as v,e as b,w as r,r as i,o as x,a as s,b as w,d as c,t as V,f as C}from"./app-cc8f7264.js";const n=new h("case-categories"),k={data(){return{breadcrumbs:[{title:"Dashboard",to:{name:"auth.panel"},disabled:!1,exact:!0},{title:"Case Categories",exact:!0,disabled:!1,to:{name:"auth.casecategories.listing"}}],form:{name:"",slug:"",id:0,parent_id:0,is_active:!0},loading:!1,errors:{name:[],slug:[]}}},methods:{async insertRecord(){this.resetErrors(),this.loading=!0;var e=new FormData;if(e.append("is_active",this.form.is_active==!0?1:0),e.append("name",this.form.name),e.append("slug",this.form.slug),e.append("parent_id",this.form.parent_id),this.form.id>0){e.append("id",this.form.id);var t=await n.update(e,this.form.id)}else var t=await n.create(e);t.status?this.$router.push({name:"auth.casecategories.listing"}):(t.data.name&&(this.errors.name=t.data.name),t.data.slug&&(this.errors.slug=t.data.slug)),this.loading=!1},resetErrors(){this.errors={name:[],slug:[]}}},watch:{"form.name":function(){var e=this.form.name;e=e.toLowerCase(),e=e.replace(/[^a-zA-Z0-9]+/g,"-"),this.form.slug=e}},async mounted(){if(this.$route.params.id){this.form.id=this.$route.params.id,this.breadcrumbs.push({title:"Edit",exact:!0,disabled:!0,to:{name:"auth.casecategories.add",params:{id:this.$route.params.id}}});var e=await n.get(this.$route.params.id);this.form={name:e.name?e.name:"",slug:e.slug?e.slug:"",id:this.$route.params.id,parent_id:0,is_active:e.is_active!=0}}else this.breadcrumbs.push({title:"Add",exact:!0,disabled:!0,to:{name:"auth.casecategories.add"}})}},y=c("mdi-forward");function U(e,t,D,N,a,f){const d=i("v-icon"),p=i("v-breadcrumbs"),l=i("v-col"),m=i("v-text-field"),_=i("v-checkbox"),g=i("v-btn"),u=i("v-row");return x(),b(u,null,{default:r(()=>[s(l,{cols:"12"},{default:r(()=>[s(p,{items:a.breadcrumbs},{prepend:r(()=>[s(d,{size:"small",icon:"mdi-home-city"})]),divider:r(()=>[s(d,null,{default:r(()=>[y]),_:1})]),_:1},8,["items"])]),_:1}),s(l,{cols:"12"},{default:r(()=>[w("form",{onSubmit:t[3]||(t[3]=C((...o)=>e.submit&&e.submit(...o),["prevent"]))},[s(u,null,{default:r(()=>[s(l,{cols:"6"},{default:r(()=>[s(m,{modelValue:a.form.name,"onUpdate:modelValue":t[0]||(t[0]=o=>a.form.name=o),counter:255,label:"Name",required:"","error-messages":a.errors.name},null,8,["modelValue","error-messages"])]),_:1}),s(l,{cols:"6"},{default:r(()=>[s(m,{modelValue:a.form.slug,"onUpdate:modelValue":t[1]||(t[1]=o=>a.form.slug=o),counter:255,label:"Slug",required:"","error-messages":a.errors.slug},null,8,["modelValue","error-messages"])]),_:1}),s(l,{cols:"6"},{default:r(()=>[s(_,{modelValue:a.form.is_active,"onUpdate:modelValue":t[2]||(t[2]=o=>a.form.is_active=o),label:"Is Active?"},null,8,["modelValue"])]),_:1}),s(l,{cols:"12"},{default:r(()=>[s(g,{onClick:f.insertRecord,disabled:a.loading,loading:a.loading,"loading-text":a.form.id>0?"Updating":"Inserting",color:"success"},{default:r(()=>[c(V(a.form.id>0?"Update":"Insert")+" Record",1)]),_:1},8,["onClick","disabled","loading","loading-text"])]),_:1})]),_:1})],32)]),_:1})]),_:1})}const E=v(k,[["render",U]]);export{E as default};
