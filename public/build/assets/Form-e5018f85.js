import{d as m}from"./default-59bf48ce.js";import{_ as y,e as b,w as i,r as o,o as g,a as r,b as q,d as c,t as w,f as x}from"./app-cc8f7264.js";const V=new m("surveys"),d=new m("surveys-questions"),k={data(){return{surveys:[],otherVideos:[],breadcrumbs:[{title:"Dashboard",to:{name:"auth.panel"},disabled:!1,exact:!0},{title:"Question",exact:!0,disabled:!1,to:{name:"auth.surveyquestions.listing"}}],form:{survey_id:[],question:"",id:0},loading:!1,errors:{survey_id:[],question:[]}}},methods:{async insertRecord(){this.resetErrors(),this.loading=!0;var s=new FormData;if(s.append("question",this.form.question),s.append("survey_id",this.form.survey_id),this.form.id>0){s.append("id",this.form.id);var e=await d.update(s,this.form.id)}else var e=await d.create(s);e.status?this.$router.push({name:"auth.surveyquestions.listing"}):(e.data.survey_id&&(this.errors.survey_id=e.data.survey_id),e.data.question&&(this.errors.question=e.data.question)),this.loading=!1},resetErrors(){this.errors={survey_id:[],question:[]}}},watch:{},async mounted(){if(this.surveys=await V.getlist("").then(e=>e.data),this.otherVideos=await d.getlist("").then(e=>e.data),this.$route.params.id){this.form.id=this.$route.params.id,this.breadcrumbs.push({title:"Edit",exact:!0,disabled:!0,to:{name:"auth.surveyquestions.add",params:{id:this.$route.params.id}}});var s=await d.get(this.$route.params.id);this.form={question:s.question?s.question:"",survey_id:s.survey_id?s.survey_id:"",id:this.$route.params.id}}else this.breadcrumbs.push({title:"Add",exact:!0,disabled:!0,to:{name:"auth.surveyquestions.add"}})}},C=c("mdi-forward");function D(s,e,U,B,t,v){const u=o("v-icon"),_=o("v-breadcrumbs"),a=o("v-col"),f=o("v-text-field"),p=o("v-select"),h=o("v-btn"),l=o("v-row");return g(),b(l,null,{default:i(()=>[r(a,{cols:"12"},{default:i(()=>[r(_,{items:t.breadcrumbs},{prepend:i(()=>[r(u,{size:"small",icon:"mdi-home-city"})]),divider:i(()=>[r(u,null,{default:i(()=>[C]),_:1})]),_:1},8,["items"])]),_:1}),r(a,{cols:"12"},{default:i(()=>[q("form",{onSubmit:e[2]||(e[2]=x((...n)=>s.submit&&s.submit(...n),["prevent"]))},[r(l,null,{default:i(()=>[r(a,{cols:"6"},{default:i(()=>[r(f,{modelValue:t.form.question,"onUpdate:modelValue":e[0]||(e[0]=n=>t.form.question=n),counter:255,label:"Question",required:"","error-messages":t.errors.question},null,8,["modelValue","error-messages"])]),_:1}),r(a,{cols:"6"},{default:i(()=>[r(p,{"error-messages":t.errors.survey_id,"item-text":"name","item-title":"name","item-value":"id",label:"Survey",items:t.surveys,modelValue:t.form.survey_id,"onUpdate:modelValue":e[1]||(e[1]=n=>t.form.survey_id=n)},null,8,["error-messages","items","modelValue"])]),_:1}),r(a,{cols:"12"},{default:i(()=>[r(h,{onClick:v.insertRecord,disabled:t.loading,loading:t.loading,"loading-text":t.form.id>0?"Updating":"Inserting",color:"success"},{default:i(()=>[c(w(t.form.id>0?"Update":"Insert")+" Record",1)]),_:1},8,["onClick","disabled","loading","loading-text"])]),_:1})]),_:1})],32)]),_:1})]),_:1})}const R=y(k,[["render",D]]);export{R as default};
