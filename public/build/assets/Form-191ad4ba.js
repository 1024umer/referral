import{d as _}from"./default-59bf48ce.js";import{_ as b,e as v,w as s,r,o as g,a as o,b as w,d as u,t as x,f as V}from"./app-cc8f7264.js";const l=new _("chooseus"),y={data(){return{breadcrumbs:[{title:"Dashboard",to:{name:"auth.panel"},disabled:!1,exact:!0},{title:"Why Choose Us",exact:!0,disabled:!1,to:{name:"auth.chooseus.listing"}}],form:{title:"",description:"",id:0},loading:!1,errors:{title:[],description:[]}}},methods:{async insertRecord(){this.resetErrors(),this.loading=!0;var e=new FormData;if(e.append("title",this.form.title),e.append("description",this.form.description),this.form.id>0){e.append("id",this.form.id);var t=await l.update(e,this.form.id)}else var t=await l.create(e);t.status?this.$router.push({name:"auth.chooseus.listing"}):(t.data.title&&(this.errors.title=t.data.title),t.data.description&&(this.errors.description=t.data.description)),this.loading=!1},resetErrors(){this.errors={title:[],description:[]}}},watch:{},async mounted(){if(this.$route.params.id){this.form.id=this.$route.params.id,this.breadcrumbs.push({title:"Edit",exact:!0,disabled:!0,to:{name:"auth.chooseus.edit",params:{id:this.$route.params.id}}});var e=await l.get(this.$route.params.id);console.log(e),this.form={title:e.title?e.title:"",description:e.description?e.description:"",id:this.$route.params.id}}else this.breadcrumbs.push({title:"Add",exact:!0,disabled:!0,to:{name:"auth.chooseus.add"}})}},C=u("mdi-forward");function D(e,t,U,k,i,p){const n=r("v-icon"),f=r("v-breadcrumbs"),a=r("v-col"),c=r("v-text-field"),h=r("v-btn"),m=r("v-row");return g(),v(m,null,{default:s(()=>[o(a,{cols:"12"},{default:s(()=>[o(f,{items:i.breadcrumbs},{prepend:s(()=>[o(n,{size:"small",icon:"mdi-home-city"})]),divider:s(()=>[o(n,null,{default:s(()=>[C]),_:1})]),_:1},8,["items"])]),_:1}),o(a,{cols:"12"},{default:s(()=>[w("form",{onSubmit:t[2]||(t[2]=V((...d)=>e.submit&&e.submit(...d),["prevent"]))},[o(m,null,{default:s(()=>[o(a,{cols:"6"},{default:s(()=>[o(c,{modelValue:i.form.title,"onUpdate:modelValue":t[0]||(t[0]=d=>i.form.title=d),counter:255,label:"Ttile",required:"","error-messages":i.errors.title},null,8,["modelValue","error-messages"])]),_:1}),o(a,{cols:"6"},{default:s(()=>[o(c,{modelValue:i.form.description,"onUpdate:modelValue":t[1]||(t[1]=d=>i.form.description=d),counter:255,label:"Description",required:"","error-messages":i.errors.description},null,8,["modelValue","error-messages"])]),_:1}),o(a,{cols:"12"},{default:s(()=>[o(h,{onClick:p.insertRecord,disabled:i.loading,loading:i.loading,"loading-text":i.form.id>0?"Updating":"Inserting",color:"success"},{default:s(()=>[u(x(i.form.id>0?"Update":"Insert")+" Record",1)]),_:1},8,["onClick","disabled","loading","loading-text"])]),_:1})]),_:1})],32)]),_:1})]),_:1})}const N=b(y,[["render",D]]);export{N as default};
