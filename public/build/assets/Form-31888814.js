import{d as h}from"./default-59bf48ce.js";import{_ as b,e as g,w as a,r as o,o as w,a as s,b as x,d as u,t as y,f as V}from"./app-cc8f7264.js";const d=new h("surveys"),k={data(){return{otherVideos:[],breadcrumbs:[{title:"Dashboard",to:{name:"auth.panel"},disabled:!1,exact:!0},{title:"Surveys",exact:!0,disabled:!1,to:{name:"auth.surveys.listing"}}],form:{name:"",is_active:!0,id:0},loading:!1,errors:{name:[]}}},methods:{async insertRecord(){this.resetErrors(),this.loading=!0;var t=new FormData;if(t.append("name",this.form.name),t.append("is_active",this.form.is_active==!0?1:0),this.form.id>0){t.append("id",this.form.id);var e=await d.update(t,this.form.id)}else var e=await d.create(t);e.status?this.$router.push({name:"auth.surveys.listing"}):e.data.name&&(this.errors.name=e.data.name),this.loading=!1},resetErrors(){this.errors={name:[]}}},watch:{},async mounted(){if(this.otherVideos=await d.getlist("").then(e=>e.data),this.$route.params.id){this.form.id=this.$route.params.id,this.breadcrumbs.push({title:"Edit",exact:!0,disabled:!0,to:{name:"auth.surveys.add",params:{id:this.$route.params.id}}});var t=await d.get(this.$route.params.id);this.form={name:t.name?t.name:"",is_active:t.is_active!=0,id:this.$route.params.id}}else this.breadcrumbs.push({title:"Add",exact:!0,disabled:!0,to:{name:"auth.surveys.add"}})}},C=u("mdi-forward");function D(t,e,N,U,r,c){const l=o("v-icon"),f=o("v-breadcrumbs"),i=o("v-col"),p=o("v-text-field"),_=o("v-checkbox"),v=o("v-btn"),m=o("v-row");return w(),g(m,null,{default:a(()=>[s(i,{cols:"12"},{default:a(()=>[s(f,{items:r.breadcrumbs},{prepend:a(()=>[s(l,{size:"small",icon:"mdi-home-city"})]),divider:a(()=>[s(l,null,{default:a(()=>[C]),_:1})]),_:1},8,["items"])]),_:1}),s(i,{cols:"12"},{default:a(()=>[x("form",{onSubmit:e[2]||(e[2]=V((...n)=>t.submit&&t.submit(...n),["prevent"]))},[s(m,null,{default:a(()=>[s(i,{cols:"6"},{default:a(()=>[s(p,{modelValue:r.form.name,"onUpdate:modelValue":e[0]||(e[0]=n=>r.form.name=n),counter:255,label:"Name",required:"","error-messages":r.errors.name},null,8,["modelValue","error-messages"])]),_:1}),s(i,{cols:"3"},{default:a(()=>[s(_,{modelValue:r.form.is_active,"onUpdate:modelValue":e[1]||(e[1]=n=>r.form.is_active=n),label:"Is Active?"},null,8,["modelValue"])]),_:1}),s(i,{cols:"12"},{default:a(()=>[s(v,{onClick:c.insertRecord,disabled:r.loading,loading:r.loading,"loading-text":r.form.id>0?"Updating":"Inserting",color:"success"},{default:a(()=>[u(y(r.form.id>0?"Update":"Insert")+" Record",1)]),_:1},8,["onClick","disabled","loading","loading-text"])]),_:1})]),_:1})],32)]),_:1})]),_:1})}const I=b(k,[["render",D]]);export{I as default};
