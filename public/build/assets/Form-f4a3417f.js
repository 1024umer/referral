import{d as b}from"./default-59bf48ce.js";import{_ as V,e as x,w as a,r as s,o as w,a as i,b as y,d as c,t as k,f as U}from"./app-cc8f7264.js";const l=new b("additional-services"),D={data(){return{categories:[],otherVideos:[],breadcrumbs:[{title:"Dashboard",to:{name:"auth.panel"},disabled:!1,exact:!0},{title:"Additional Services",exact:!0,disabled:!1,to:{name:"auth.additional.listing"}}],form:{title:"",description:"",image:void 0,is_active:!0,id:0},loading:!1,errors:{title:[],image:[],description:[]}}},methods:{async insertRecord(){this.resetErrors(),this.loading=!0;var e=new FormData;if(e.append("title",this.form.title),this.form.image&&e.append("image",this.form.image[0]),e.append("description",this.form.description),e.append("category_id",JSON.stringify(this.form.category_id)),e.append("is_active",this.form.is_active==!0?1:0),this.form.id>0){e.append("id",this.form.id);var t=await l.update(e,this.form.id)}else var t=await l.create(e);t.status?this.$router.push({name:"auth.additional.listing"}):(t.data.title&&(this.errors.title=t.data.title),t.data.description&&(this.errors.description=t.data.description),t.data.image&&(this.errors.image=t.data.image)),this.loading=!1},resetErrors(){this.errors={iamge:[],title:[],description:[]}}},watch:{},async mounted(){if(this.$route.params.id){this.form.id=this.$route.params.id,this.breadcrumbs.push({title:"Edit",exact:!0,disabled:!0,to:{name:"auth.additional.add",params:{id:this.$route.params.id}}});var e=await l.get(this.$route.params.id);this.form={title:e.title?e.title:"",description:e.description?e.description:"",is_active:e.is_active!=0,id:this.$route.params.id},e.image&&(this.form.image=e.image)}else this.breadcrumbs.push({title:"Add",exact:!0,disabled:!0,to:{name:"auth.additional.add"}})}},C=c("mdi-forward");function I(e,t,N,S,o,u){const n=s("v-icon"),p=s("v-breadcrumbs"),d=s("v-col"),f=s("v-text-field"),_=s("v-file-input"),g=s("v-textarea"),v=s("v-checkbox"),h=s("v-btn"),m=s("v-row");return w(),x(m,null,{default:a(()=>[i(d,{cols:"12"},{default:a(()=>[i(p,{items:o.breadcrumbs},{prepend:a(()=>[i(n,{size:"small",icon:"mdi-home-city"})]),divider:a(()=>[i(n,null,{default:a(()=>[C]),_:1})]),_:1},8,["items"])]),_:1}),i(d,{cols:"12"},{default:a(()=>[y("form",{onSubmit:t[4]||(t[4]=U((...r)=>e.submit&&e.submit(...r),["prevent"]))},[i(m,null,{default:a(()=>[i(d,{cols:"6"},{default:a(()=>[i(f,{modelValue:o.form.title,"onUpdate:modelValue":t[0]||(t[0]=r=>o.form.title=r),counter:255,label:"Title",required:"","error-messages":o.errors.title},null,8,["modelValue","error-messages"])]),_:1}),i(d,{cols:"6"},{default:a(()=>[i(_,{accept:"image/*",modelValue:o.form.image,"onUpdate:modelValue":t[1]||(t[1]=r=>o.form.image=r),label:"Image"},null,8,["modelValue"])]),_:1}),i(d,{cols:"6"},{default:a(()=>[i(g,{label:"Description","no-resize":"",rows:"1",modelValue:o.form.description,"onUpdate:modelValue":t[2]||(t[2]=r=>o.form.description=r)},null,8,["modelValue"])]),_:1}),i(d,{cols:"3"},{default:a(()=>[i(v,{modelValue:o.form.is_active,"onUpdate:modelValue":t[3]||(t[3]=r=>o.form.is_active=r),label:"Is Active?"},null,8,["modelValue"])]),_:1}),i(d,{cols:"12"},{default:a(()=>[i(h,{onClick:u.insertRecord,disabled:o.loading,loading:o.loading,"loading-text":o.form.id>0?"Updating":"Inserting",color:"success"},{default:a(()=>[c(k(o.form.id>0?"Update":"Insert")+" Record",1)]),_:1},8,["onClick","disabled","loading","loading-text"])]),_:1})]),_:1})],32)]),_:1})]),_:1})}const E=V(D,[["render",I]]);export{E as default};
