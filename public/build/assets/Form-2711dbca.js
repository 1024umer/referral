import{d as v}from"./default-b9ad43f8.js";import{_ as N,j as U,e as g,w as i,r as l,o as m,a as o,c as x,f as p,d as n,t as w,b as V,g as M}from"./app-783ada3e.js";const _=new v("users"),D=new v("roles"),I={data(){return{isCopied:!1,state:[{id:1,text:"Alabama"},{id:2,text:"Alaska"},{id:3,text:"Arizona"},{id:4,text:"Arkansas"},{id:5,text:"California"},{id:6,text:"Colorado"},{id:7,text:"Connecticut"},{id:8,text:"Delaware"},{id:9,text:"Florida"},{id:10,text:"Georgia"},{id:11,text:"Hawaii"},{id:12,text:"Idaho"},{id:13,text:"Illinois"},{id:14,text:"Indiana"},{id:15,text:"Iowa"},{id:16,text:"Kansas"},{id:17,text:"Kentucky"},{id:18,text:"Louisiana"},{id:19,text:"Maine"},{id:20,text:"Maryland"},{id:21,text:"Massachusetts"},{id:22,text:"Michigan"},{id:23,text:"Minnesota"},{id:24,text:"Mississippi"},{id:25,text:"Missouri"},{id:26,text:"Montana"},{id:27,text:"Nebraska"},{id:28,text:"Nevada"},{id:29,text:"New Hampshire"},{id:30,text:"New Jersey"},{id:31,text:"New Mexico"},{id:32,text:"New York"},{id:33,text:"North Carolina"},{id:34,text:"North Dakota"},{id:35,text:"Ohio"},{id:36,text:"Oklahoma"},{id:37,text:"Oregon"},{id:38,text:"Pennsylvania"},{id:39,text:"Rhode Island"},{id:40,text:"South Carolina"},{id:41,text:"South Dakota"},{id:42,text:"Tennessee"},{id:43,text:"Texas"},{id:44,text:"Utah"},{id:45,text:"Vermont"},{id:46,text:"Virginia"},{id:47,text:"Washington"},{id:48,text:"West Virginia"},{id:49,text:"Wisconsin"},{id:50,text:"Wyoming"}],computed:{...U(["state"])},roles:[],breadcrumbs:[{title:"Dashboard",to:{name:"auth.panel"},disabled:!1,exact:!0},{title:"Users",exact:!0,disabled:!1,to:{name:"auth.users.listing"}}],form:{role_id:"",first_name:"",last_name:"",dob:"",state:"",balance:"",email:"",password:"",profile_image:[],id:0},loading:!1,errors:{role_id:[],balance:[],first_name:[],last_name:[],dob:[],state:[],email:[],password:[],profile_image:[]}}},methods:{copyTo(t){const e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),alert("Copied to clipboard"),this.isCopied=!0},async insertRecord(){this.resetErrors(),this.loading=!0;var t=new FormData;if(t.append("first_name",this.form.first_name),t.append("last_name",this.form.last_name),t.append("dob",this.form.dob),t.append("state",this.form.state),t.append("balance",this.form.balance),t.append("email",this.form.email),t.append("role_id",this.form.role_id),this.form.id>0){t.append("id",this.form.id),this.form.password&&this.form.password.length>0&&t.append("password",this.form.password),this.form.profile_image&&this.form.profile_image.length>0&&t.append("profile_image",this.form.profile_image[0]);var e=await _.update(t,this.form.id)}else{t.append("password",this.form.password),t.append("profile_image",this.form.profile_image);var e=await _.create(t)}e.status?this.$router.push({name:"auth.users.listing"}):(e.data.first_name&&(this.errors.first_name=e.data.first_name),e.data.last_name&&(this.errors.last_name=e.data.last_name),e.data.state&&(this.errors.state=e.data.state),e.data.dob&&(this.errors.dob=e.data.dob),e.data.email&&(this.errors.email=e.data.email),e.data.role_id&&(this.errors.role_id=e.data.role_id),e.data.profile_image&&(this.errors.profile_image=e.data.profile_image),e.data.password&&(this.errors.password=e.data.password),e.data.balance&&(this.errors.balance=e.data.balance)),this.loading=!1},onFileChange(t){this.form.thumbnail=t.target.files[0]},resetErrors(){this.errors={role_id:[],first_name:[],last_name:[],state:[],dob:[],email:[],password:[],profile_image:[],balance:[]}}},watch:{},async mounted(){if(this.roles=await D.getlist("").then(e=>e.data),this.$route.params.id){this.form.id=this.$route.params.id,this.breadcrumbs.push({title:"Edit",exact:!0,disabled:!0,to:{name:"auth.users.add",params:{id:this.$route.params.id}}});var t=await _.get(this.$route.params.id);this.res=t,this.form={first_name:t.first_name?t.first_name:"",last_name:t.last_name?t.last_name:"",dob:t.dob?t.dob:"",state:t.state?t.state:"",email:t.email?t.email:"",role_id:t.role_id?t.role_id:"",balance:t.balance?t.balance:"",id:this.$route.params.id}}else this.breadcrumbs.push({title:"Add",exact:!0,disabled:!0,to:{name:"auth.users.add"}})}},q=n("mdi-forward"),B={key:0},E={key:1,class:"pl-5 my-5"},F=V("p",null,"Referral Url",-1),R=n(" Copy");function S(t,e,A,T,a,u){const c=l("v-icon"),y=l("v-breadcrumbs"),s=l("v-col"),C=l("v-img"),f=l("v-btn"),d=l("v-text-field"),h=l("v-select"),k=l("v-file-input"),b=l("v-row");return m(),g(b,null,{default:i(()=>[o(s,{cols:"12"},{default:i(()=>[o(y,{items:a.breadcrumbs},{prepend:i(()=>[o(c,{size:"small",icon:"mdi-home-city"})]),divider:i(()=>[o(c,null,{default:i(()=>[q]),_:1})]),_:1},8,["items"])]),_:1}),t.res&&t.res.image?(m(),x("div",B,[o(C,{height:"50%",width:"50%",src:t.res.image_url},null,8,["src"])])):p("",!0),t.res&&t.res.referral_url?(m(),x("div",E,[F,o(f,null,{default:i(()=>[n(w(t.res.referral_url),1)]),_:1}),o(f,{class:"ml-5",color:"primary",onClick:e[0]||(e[0]=r=>u.copyTo(t.res.referral_url))},{default:i(()=>[R]),_:1})])):p("",!0),o(s,{cols:"12"},{default:i(()=>[V("form",{onSubmit:e[10]||(e[10]=M((...r)=>t.submit&&t.submit(...r),["prevent"]))},[o(b,null,{default:i(()=>[o(s,{cols:"6"},{default:i(()=>[o(d,{modelValue:a.form.first_name,"onUpdate:modelValue":e[1]||(e[1]=r=>a.form.first_name=r),counter:255,label:"First Name",required:"","error-messages":a.errors.first_name},null,8,["modelValue","error-messages"])]),_:1}),o(s,{cols:"6"},{default:i(()=>[o(d,{modelValue:a.form.last_name,"onUpdate:modelValue":e[2]||(e[2]=r=>a.form.last_name=r),counter:255,label:"Last Name",required:"","error-messages":a.errors.last_name},null,8,["modelValue","error-messages"])]),_:1}),o(s,{cols:"6"},{default:i(()=>[o(d,{modelValue:a.form.dob,"onUpdate:modelValue":e[3]||(e[3]=r=>a.form.dob=r),counter:255,label:"Date of Birth",required:"","error-messages":a.errors.dob},null,8,["modelValue","error-messages"])]),_:1}),o(s,{cols:"6"},{default:i(()=>[o(h,{modelValue:a.form.state,"onUpdate:modelValue":e[4]||(e[4]=r=>a.form.state=r),items:a.state,label:"State","item-text":"text","item-value":"text","item-title":"text"},null,8,["modelValue","items"])]),_:1}),o(s,{cols:"6"},{default:i(()=>[o(d,{modelValue:a.form.email,"onUpdate:modelValue":e[5]||(e[5]=r=>a.form.email=r),counter:255,label:"Email",required:"","error-messages":a.errors.email},null,8,["modelValue","error-messages"])]),_:1}),a.form&&a.form.balance>=0?(m(),g(s,{key:0,cols:"6"},{default:i(()=>[o(d,{modelValue:a.form.balance,"onUpdate:modelValue":e[6]||(e[6]=r=>a.form.balance=r),counter:255,label:"Balance",required:"","error-messages":a.errors.balance},null,8,["modelValue","error-messages"])]),_:1})):p("",!0),o(s,{cols:"12"},{default:i(()=>[o(d,{modelValue:a.form.password,"onUpdate:modelValue":e[7]||(e[7]=r=>a.form.password=r),label:"Password",type:"password","error-messages":a.errors.password},null,8,["modelValue","error-messages"])]),_:1}),o(s,{cols:"6"},{default:i(()=>[o(k,{modelValue:a.form.profile_image,"onUpdate:modelValue":e[8]||(e[8]=r=>a.form.profile_image=r),counter:255,label:"Profile Image",required:"","error-messages":a.errors.profile_image,onChange:u.onFileChange},null,8,["modelValue","error-messages","onChange"])]),_:1}),o(s,{cols:"6"},{default:i(()=>[o(h,{"error-messages":a.errors.role_id,"item-title":"title","item-value":"id",label:"Role",items:a.roles,modelValue:a.form.role_id,"onUpdate:modelValue":e[9]||(e[9]=r=>a.form.role_id=r)},null,8,["error-messages","items","modelValue"])]),_:1}),o(s,{cols:"12"},{default:i(()=>[o(f,{onClick:u.insertRecord,disabled:a.loading,loading:a.loading,"loading-text":a.form.id>0?"Updating":"Inserting",color:"success"},{default:i(()=>[n(w(a.form.id>0?"Update":"Insert")+" Record",1)]),_:1},8,["onClick","disabled","loading","loading-text"])]),_:1})]),_:1})],32)]),_:1})]),_:1})}const P=N(I,[["render",S]]);export{P as default};
